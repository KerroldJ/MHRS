<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Harmony Recommendation System</title>
   <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
<div class="container">
  <h2>Harmony Recommendation System</h2>

  <form id="uploadForm">
    <label>Select Instrument:</label><br>
    <select name="instrument" id="instrument" required>
      <option value="">-- Choose an instrument --</option>
      <option value="acoustic_guitar">Acoustic Guitar</option>
      <option value="electric_guitar">Electric Guitar</option>
      <option value="keyboard">Keyboard</option>
      <option value="ukulele">Ukulele</option>
      <option value="bass">Bass</option>
    </select><br><br>

    <label>Upload Audio File:</label><br>
    <input type="file" name="audio" id="audio" accept=".mp3" required><br><br>

    <button type="submit">Generate Harmony</button>
  </form>

  <div class="preview" id="result" style="display:none;">
    <h4>Uploaded Audio:</h4>
    <button class="play-button" id="playButton">Play</button>
    <button class="replay-button" id="replayButton">Replay</button>
    <div id="uploadedWaveform"></div>
    <br>

    <h4>Recommended Chords:</h4>
    <ul id="chords"></ul>
    <h4>Chord Progression:</h4>
    <p id="progression"></p>

    <h4>Recommended Harmony Preview:</h4>
    <button class="play-button" id="harmonyPlayButton">Play</button>
    <button class="replay-button" id="harmonyReplayButton">Replay</button>
    <div id="harmonyWaveform"></div>
    <br>

    <h4>Synthesized Harmony:</h4>
    <button class="synth-button" id="synthPlayButton">Play Combined</button>
    <a id="downloadLink" class="download-link" style="display:none;" download>Download MP3</a>
    <div id="combinedWaveform"></div>

    <br>
    <button class="synth-button" id="regenerateButton">Regenerate Harmony</button>
  </div>
</div>

<script src="https://unpkg.com/wavesurfer.js"></script>
<script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
